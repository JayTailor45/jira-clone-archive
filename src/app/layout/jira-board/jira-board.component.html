<div class="h-full w-full">
  <header class="pl-4 h-14">
    <nav class="flex h-full space-x-2 items-center mr-4">
      <div class="flex content-center hover-effect rounded-full cursor-pointer">
        <i nz-icon nzType="appstore" nzTheme="fill"></i>
      </div>
      <div class="flex content-center">
        <img
          src="./assets/images/logos/jira-main.svg"
          class="w-32 h-5 hover:bg-blue-100 rounded-sm hover:text-blue-600 cursor-pointer text-blue-500"
          alt="Jira Logo"
        />
      </div>
      <div class="nav-items flex flex-row space-x-4 items-center">
        <a class="hover-effect">Your work</a>
        <a
          class="hover-effect"
          nz-dropdown
          nzTrigger="click"
          [nzDropdownMenu]="projectMenu"
        >
          Projects
          <i nz-icon nzType="down"></i>
        </a>
        <nz-dropdown-menu #projectMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>Project 1</li>
            <li nz-menu-item>Project 2</li>
          </ul>
        </nz-dropdown-menu>
        <a
          class="hover-effect"
          nz-dropdown
          nzTrigger="click"
          [nzDropdownMenu]="filterMenu"
        >
          Filters
          <i nz-icon nzType="down"></i>
        </a>
        <nz-dropdown-menu #filterMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>Filter by priority</li>
            <li nz-menu-item>Setup custom filter</li>
          </ul>
        </nz-dropdown-menu>
        <a
          class="hover-effect"
          nz-dropdown
          nzTrigger="click"
          [nzDropdownMenu]="dashboardMenu"
        >
          Dashboards
          <i nz-icon nzType="down"></i>
        </a>
        <nz-dropdown-menu #dashboardMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>No dashboard avaliable</li>
          </ul>
        </nz-dropdown-menu>
        <a
          class="hover-effect"
          nz-dropdown
          nzTrigger="click"
          [nzDropdownMenu]="peopleMenu"
        >
          People
          <i nz-icon nzType="down"></i>
        </a>
        <nz-dropdown-menu #peopleMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>Jay Tailor</li>
          </ul>
        </nz-dropdown-menu>
        <a
          class="hover-effect"
          nz-dropdown
          nzTrigger="click"
          [nzDropdownMenu]="appsMenu"
        >
          Apps
          <i nz-icon nzType="down"></i>
        </a>
        <nz-dropdown-menu #appsMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>Slack</li>
            <li nz-menu-item>GitHub</li>
            <li nz-menu-item>GitLabs</li>
          </ul>
        </nz-dropdown-menu>
        <button nz-button nzType="primary" class="font-bold">Create</button>
      </div>
      <div class="flex flex-grow"></div>
      <div class="flex flex-row space-x-4 items-center flex-none">
        <div
          class="flex flex-col items-center p-1 w-48 h-8 relative"
        >
          <i nz-icon nzType="search" class="absolute left-3 top-3"></i>
          <input class="ring-1 ring-gray-300 rounded-sm p-1 pl-8 outline-none text-black focus:ring-2 focus:ring-blue-600 w-full hover:bg-gray-200" type="text" placeholder="Search" />
        </div>
        <div
          class="flex content-center hover-effect rounded-full cursor-pointer transform rotate-45 text-lg"
        >
          <i nz-icon nzType="bell" nzTheme="fill"></i>
        </div>
        <div
          class="flex content-center hover-effect rounded-full cursor-pointer text-lg"
        >
          <i nz-icon nzType="question-circle" nzTheme="fill"></i>
        </div>
        <div
          class="flex content-center hover-effect rounded-full cursor-pointer text-lg"
        >
          <i nz-icon nzType="setting" nzTheme="fill"></i>
        </div>
        <div class="flex content-center items-center">
          <div
            class="p-1 h-8 w-8 font-bold bg-green-700 rounded-full cursor-pointer text-center justify-center text-gray-200"
          >
            <span>J</span>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <div class="h-1 bg-gradient-to-t from-gray-200 to-white"></div>

  <div
    class="flex transition-all"
    [class]="isSidebarOpen ? 'ml-72' : 'ml-2'"
    style="height: calc(100% - 60px)"
  >
    <div class="bg-gray-300 h-full">
      <div class="w-0.5 relative">
        <div
          class="absolute flex p-1 hover:bg-blue-600 bg-gray-100 text-black hover:text-white -left-2 top-7 rounded-full cursor-pointer shadow-md ring-1"
          (click)="toggleSidebar()"
        >
          <i
            class=""
            nz-icon
            [nzType]="isSidebarOpen ? 'caret-left' : 'caret-right'"
            nzTheme="outline"
          ></i>
        </div>
      </div>
    </div>
    <div class="w-full flex flex-col mx-9">
      <div class="mt-6">
        <app-breadcrumb [items]="breadcrumb"></app-breadcrumb>
      </div>
      <div class="flex justify-between mt-1">
        <h4 class="font-semibold text-2xl">Kanban board</h4>
        <div class="actions">
          <button nz-button nzType="link" class="text-gray-700">
            <i nz-icon nzType="thunderbolt" nzTheme="outline"></i>
          </button>
          <button nz-button nzType="link" class="text-gray-700">
            <i nz-icon nzType="star" nzTheme="outline"></i>
          </button>
          <a
            class="hover-effect text-gray-700"
            nz-dropdown
            nzTrigger="click"
            [nzDropdownMenu]="releaseMenu"
          >
            Release
            <i nz-icon nzType="down"></i>
          </a>
          <nz-dropdown-menu #releaseMenu="nzDropdownMenu">
            <ul nz-menu>
              <li nz-menu-item>Create a release</li>
            </ul>
          </nz-dropdown-menu>
          <button nz-button nzType="link" class="text-gray-700">
            <i nz-icon nzType="share-alt" nzTheme="outline"></i>
          </button>
          <button nz-button nzType="link" class="text-gray-700">
            <i nz-icon nzType="ellipsis" nzTheme="outline"></i>
          </button>
        </div>
      </div>
      <div class="flex flex-row min-h-14 space-x-6 mt-2">
        <div
          class="flex flex-col items-center p-1 w-48 h-8 relative"
        >
          <input class="ring-1 ring-gray-300 rounded-sm p-1 outline-none text-black focus:ring-2 focus:ring-blue-600 w-full hover:bg-gray-200" type="text"/>
          <i nz-icon nzType="search" class="absolute right-3 top-3"></i>
        </div>
        <div class="user-selector flex -space-x-2">
          <div
            class="user-avatar w-8 h-8 bg-green-700 rounded-full flex text-center items-center content-center p-3 cursor-pointer leading-none ring-2 ring-white transform hover:-translate-y-2 hover:z-10 ease-in-out duration-500"
            *ngFor="let person of ['J', 'A', 'Y', '']"
          >
            <span class="text-white font-semibold">{{ person }}</span>
          </div>
        </div>
        <button nz-button nzType="link" class="ml-5 text-gray-500 font-bold">
          Only My Issues
        </button>
        <button nz-button nzType="link" class="text-gray-500 font-bold">
          Recently Updated
        </button>
      </div>
      <!-- Board -->
      <div class="mt-6">
        <div class="tickets-container relative overflow-y-scroll">
          <div class="headers flex flex-row space-x-4 justify-between sticky top-0">
            <div class="header">
              <div class="inline-block mr-1">BACKLOG</div>
              <span>4</span>
            </div>
            <div class="header">
              <div class="inline-block mr-1">SELECTED FOR DEVELOPMENT</div>
              <span>3</span>
            </div>
            <div class="header">
              <div class="inline-block mr-1">IN PROGRESS</div>
              <span>1</span>
            </div>
            <div class="header">
              <div class="inline-block mr-1">DONE</div>
              <span>0</span>
            </div>
          </div>
          <div class="board-cols flex flex-row space-x-4 justify-between">
            <div class="backlog flex-1 bg-gray-100">
              <div
                *ngFor="let item of tickets"
                class="rounded-md p-3 shadow m-1"
              >
                <h6>{{ item.title }}</h6>
                <div class="flex justify-between items-center mt-4">
                  <div class="start flex flex-row space-x-2">
                    <div class="issue-type">
                      <div *ngIf="item.issueType === 'STORY'">
                        <img
                          src="./assets/images/icons/user_story.svg"
                          alt="story icon"
                        />
                      </div>
                      <div *ngIf="item.issueType === 'EPIC'">
                        <img
                          src="./assets/images/icons/epic.svg"
                          alt="epic icon"
                        />
                      </div>
                      <div *ngIf="item.issueType === 'TASK'">
                        <img src="./assets/images/icons/task.svg" alt="task" />
                      </div>
                      <div *ngIf="item.issueType === 'SUB-TASK'">
                        <img
                          src="./assets/images/icons/subtask.svg"
                          alt="sub task"
                        />
                      </div>
                      <div *ngIf="item.issueType === 'BUG'">
                        <img src="./assets/images/icons/bug.svg" alt="bug" />
                      </div>
                    </div>
                    <div class="priority flex">
                      <div class="flex">
                        <i
                          class="text-md"
                          [class]="getPriorityClass(item)"
                          nz-icon
                          [nzType]="
                            item.priority === 'HIGHEST' ||
                            item.priority === 'HIGH'
                              ? 'up'
                              : 'down'
                          "
                          nzTheme="outline"
                        ></i>
                      </div>
                    </div>
                  </div>
                  <div class="end flex space-x-2">
                    <div>
                      <p>{{ item.ticketKey }}</p>
                    </div>
                    <div>
                      <div
                        class="user-avatar w-4 h-4 bg-green-700 rounded-full flex items-center justify-center cursor-pointer p-3"
                      >
                        <span class="text-white font-semibold">{{
                          item.assignedTo[0]
                        }}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="backlog flex-1 bg-gray-100">
              <!-- <div *ngFor="let item of tickets" class="rounded-md">
                <h6>{{ item.title }}</h6>
              </div> -->
            </div>
            <div class="backlog flex-1 bg-gray-100">
              <!-- <div *ngFor="let item of tickets" class="rounded-md">
                <h6>{{ item.title }}</h6>
              </div> -->
            </div>
            <div class="backlog flex-1 bg-gray-100">
              <!-- <div *ngFor="let item of tickets" class="rounded-md">
                <h6>{{ item.title }}</h6>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="fixed top-16 left-0 transition-all ease-in-out flex-shrink-0"
  [class]="isSidebarOpen ? '' : '-left-72'"
>
  <div class="flex flex-row items-center rounded-md my-4">
    <div class="w-10 p-2 mx-2">
      <img src="./assets/images/projectavatar.svg" alt="projet avatar" />
    </div>
    <div class="detail">
      <p class="font-semibold">Jira-Clone</p>
      <p class="font-thin">Classic software project</p>
    </div>
  </div>
  <div class="overflow-auto" style="height: calc(100% - 75px)">
    <div class="w-72">
      <div class="items-container mx-2 mt-2">
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="build" nzTheme="outline"></i>
          </div>
          <a href="#">Roadmap</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md bg-blue-100 text-blue-600 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i
              class="text-xl"
              nz-icon
              nzType="insert-row-above"
              nzTheme="outline"
            ></i>
          </div>
          <a href="#">Kanban board</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i
              class="text-xl"
              nz-icon
              nzType="line-chart"
              nzTheme="outline"
            ></i>
          </div>
          <a href="#">Reports</a>
        </div>
        <hr />
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer my-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="inbox" nzTheme="outline"></i>
          </div>
          <a href="#">Issues</a>
        </div>

        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="database" nzTheme="outline"></i>
          </div>
          <a href="#">Components</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="code" nzTheme="outline"></i>
          </div>
          <a href="#">Code</a>
        </div>

        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="tags" nzTheme="outline"></i>
          </div>
          <a href="#">Releases</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="folder" nzTheme="outline"></i>
          </div>
          <a href="#">Project pages</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="file-add" nzTheme="outline"></i>
          </div>
          <a href="#">Add item</a>
        </div>
        <div
          class="flex flex-row items-center rounded-md hover:bg-blue-100 cursor-pointer mb-2"
        >
          <div class="w-2 p-2 mr-6">
            <i class="text-xl" nz-icon nzType="setting" nzTheme="outline"></i>
          </div>
          <a href="#">Project settings</a>
        </div>
      </div>
    </div>
  </div>
</div>
